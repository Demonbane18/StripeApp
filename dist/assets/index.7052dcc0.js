import{o as e,c as a,a as t,r as s,p as n,b as l,d as i,e as d,l as o,w as c,t as r,F as u,u as p,f as m,g as v,h as b,i as f,j as h}from"./vendor.37bf509d.js";const y={},g={class:"main"};y.render=function(n,l){const i=s("router-view");return e(),a("div",g,[t(i)])};const _={style:{base:{iconColor:"#000",color:"#000",fontWeight:"800",fontFamily:"Press Start 2P",fontSize:"22px",fontSmoothing:"antialiased",":-webkit-autofill":{color:"#fce883"},"::placeholder":{color:"green"}},invalid:{iconColor:"#FFC7EE",color:"red"}}},P={setup(){const e=p();let a=null,t=i(!0),s=null;return d((async()=>{a=await o("pk_test_51JCmBqJPIOAeALNZt69gTBSbp9naXn4jBPxLXShV7CTaCPdyqLvm55KdHgamYUj0peID7ryhs3FomFpEnCtjugnL00hCw2BcjJ"),s=a.elements();s.create("card",_).mount("#stripe-element-mount-point"),t.value=!1})),{redirect:function(){a.redirectToCheckout({successUrl:"http://localhost:3000/success",cancelUrl:"http://localhost:3000",lineItems:[{price:"price_1JCnGBJPIOAeALNZXBRmkjAe",quantity:1}],mode:"payment"})},loading:t,handleSubmit:async function(n){if(t.value)return;t.value=!0;const{name:l,email:i,address:d,city:o,state:c,zip:r}=Object.fromEntries(new FormData(n.target));console.log("here",l,i,d,o,c,r);const u={name:l,email:i,address:{city:o,line1:d,state:c,postal_code:r}},p=s.getElement("card");try{const s=await fetch("http://localhost:3001/stripe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:2395})}),{secret:n}=await s.json();console.log("secret",n);const l=await a.createPaymentMethod({type:"card",card:p,billing_details:u});console.log("error?",l);const{error:i}=await a.confirmCardPayment(n,{payment_method:l.paymentMethod.id});t.value=!1,e.push("/success")}catch(m){console.log("error",m),t.value=!1,e.push("/failure")}}}}},C=m("data-v-04ab28a8");n("data-v-04ab28a8");const S=t("section",{class:"showcase"},[t("div",{class:"nes-container with-title"},[t("h3",null,"Ripple Junction Rick & Morty Eyes Open Adult T-Shirt [L] ₱1,200.00 PHP"),t("div",{class:"img"},[t("img",{src:"https://images-na.ssl-images-amazon.com/images/I/51soqfKa--L._AC_UX569_.jpg",alt:"",srcset:""})])])],-1),w={class:"nes-container with-title is-centered"},j=v('<div class="nes-field" data-v-04ab28a8></div><div class="nes-field" data-v-04ab28a8><label for="name_field" data-v-04ab28a8>Name</label><input placeholder="Jane Doe" type="text" name="name" id="name_field" class="nes-input" data-v-04ab28a8></div><div class="nes-field" data-v-04ab28a8><label for="email_field" data-v-04ab28a8>Email</label><input placeholder="jane.doe@example.com " type="email" name="email" id="email_field" class="nes-input" data-v-04ab28a8></div><div class="nes-field" data-v-04ab28a8><label for="address_field" data-v-04ab28a8>Address</label><input placeholder="1234 Sycamore Street" type="text" name="address" id="address_field" class="nes-input" data-v-04ab28a8></div><div class="nes-field" data-v-04ab28a8><label for="city_field" data-v-04ab28a8>City</label><input placeholder="Reno" type="text" name="city" id="city_field" class="nes-input" data-v-04ab28a8></div><div class="nes-field" data-v-04ab28a8><label for="state_field" data-v-04ab28a8>State</label><input placeholder="Nevada" type="text" name="state" id="state_field" class="nes-input" data-v-04ab28a8></div><div class="nes-field" data-v-04ab28a8><label for="zip_field" data-v-04ab28a8>Zip</label><input placeholder="89523" type="text" name="zip" id="zip_field" class="nes-input" data-v-04ab28a8></div><div class="nes-field" data-v-04ab28a8><label for="email_field" data-v-04ab28a8>Credit Card</label><div id="stripe-element-mount-point" class="nes-input" data-v-04ab28a8></div></div>',8),k={class:"nes-field"},A=t("h2",null,"Or...",-1),O={class:"nes-field mt"};l();const x=C(((s,n,l,i,d,o)=>(e(),a(u,null,[S,t("div",w,[t("form",{onSubmit:n[1]||(n[1]=c(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"]))},[t("fieldset",{class:[{dis:i.loading},"fields"]},[j],2),t("div",k,[t("button",{type:"submit",class:["nes-btn is-primary",{dis:i.loading}]},r(i.loading?"Loading...":"Pay ₱1,200.00 PHP"),3)])],32)]),A,t("div",O,[t("button",{type:"button",class:"nes-btn is-success",onClick:n[2]||(n[2]=(...e)=>i.redirect&&i.redirect(...e))}," Pay ₱1,200.00 PHP Page ")])],64))));P.render=x,P.__scopeId="data-v-04ab28a8";const E={components:{checkOut:P},setup:()=>({})},F=t("h2",null,"Check Out Page",-1);E.render=function(n,l,i,d,o,c){const r=s("check-out");return e(),a("div",null,[F,t(r)])};const J={setup:()=>({})},L=t("h4",null,"Error occured while purchasing the item. Please Try Again",-1);J.render=function(t,s,n,l,i,d){return e(),a("div",null,[L])};const T={setup:()=>({})},z=t("h3",null,"Thank You for ordering.",-1);T.render=function(t,s,n,l,i,d){return e(),a("div",null,[z])};const B=[{path:"/",name:"Home",component:E},{path:"/failure",name:"Failure",component:J},{path:"/success",name:"Success",component:T}],I=b({history:f(),routes:B});h(y).use(I).mount("#app");
